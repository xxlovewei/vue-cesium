(window.webpackJsonp=window.webpackJsonp||[]).push([[188],{"7xZW":function(s,t,e){s.exports=e("V3hY")},V3hY:function(s,t,e){"use strict";e.r(t);var r=e("JFUb"),a=Object(r.a)({data:function(){return{fragmentShader:"\n        uniform sampler2D colorTexture;\n        varying vec2 v_textureCoordinates;\n        float hash(float x){\n          return fract(sin(x*23.3)*13.13);\n        }\n        void main(void){\n          float time = czm_frameNumber / 60.0;\n          vec2 resolution = czm_viewport.zw;\n          vec2 uv=(gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y);\n          vec3 c=vec3(.6,.7,.8);\n          float a=-.4;\n          float si=sin(a),co=cos(a);\n          uv*=mat2(co,-si,si,co);\n          uv*=length(uv+vec2(0,4.9))*.3+1.;\n          float v=1.-sin(hash(floor(uv.x*100.))*2.);\n          float b=clamp(abs(sin(20.*time*v+uv.y*(5./(2.+v))))-.95,0.,1.)*20.;\n          c*=v*b;\n          gl_FragColor = mix(texture2D(colorTexture, v_textureCoordinates), vec4(c,1), 0.5);\n        }  "}},methods:{ready:function(s){this.cesiumInstance=s;var t=this.cesiumInstance;t.Cesium,t.viewer}}},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("section",[e("h1",[s._v("后期处理")]),s._v(" "),s._m(0),s._v(" "),e("h2",[s._v("示例")]),s._v(" "),e("h3",[s._v("加载后期处理的着色器")]),s._v(" "),e("h4",[s._v("预览")]),s._v(" "),e("doc-preview",[[e("div",{staticClass:"viewer"},[e("vc-viewer",{on:{ready:s.ready}},[e("vc-stage-process-post",{attrs:{fragmentShader:s.fragmentShader}})],1)],1)]],2),s._v(" "),e("h4",[s._v("代码")]),s._v(" "),s._m(1),s._v(" "),e("h2",[s._v("属性")]),s._v(" "),s._m(2),s._v(" "),e("hr"),s._v(" "),e("h2",[s._v("事件")]),s._v(" "),s._m(3)],1)}),[function(){var s=this.$createElement,t=this._self._c||s;return t("p",[t("code",{pre:!0},[this._v("vc-stage-process-post")]),this._v(" 组件用于加载一组后期处理，如加载自定义着色器。")])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("pre",{pre:!0},[e("code",{pre:!0,attrs:{"v-pre":"",class:"language-html"}},[e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"viewer"')]),s._v(">")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("vc-viewer")]),s._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("@ready")]),s._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"ready"')]),s._v(">")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("vc-stage-process-post")]),s._v(" "),e("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v(":fragmentShader")]),s._v("="),e("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"fragmentShader"')]),s._v(">")]),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("vc-stage-process-post")]),s._v(">")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("vc-viewer")]),s._v(">")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),e("span",{pre:!0,attrs:{class:"actionscript"}},[s._v("\n  export "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n    data() {\n      "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n        fragmentShader: `\n          uniform sampler2D colorTexture;\n          varying vec2 v_textureCoordinates;\n          float hash(float x){\n            "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" fract(sin(x*"),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("23.3")]),s._v(")*"),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("13.13")]),s._v(");\n          }\n          "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("void")]),s._v(" main("),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("void")]),s._v("){\n            float time = czm_frameNumber / "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("60.0")]),s._v(";\n            vec2 resolution = czm_viewport.zw;\n            vec2 uv=(gl_FragCoord.xy*"),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2.")]),s._v("-resolution.xy)/min(resolution.x,resolution.y);\n            vec3 c=vec3("),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v(".6")]),s._v(","),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v(".7")]),s._v(","),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v(".8")]),s._v(");\n            float a="),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-.4")]),s._v(";\n            float si=sin(a),co=cos(a);\n            uv*=mat2(co,-si,si,co);\n            uv*=length(uv+vec2("),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0")]),s._v(","),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("4.9")]),s._v("))*"),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v(".3")]),s._v("+"),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.")]),s._v(";\n            float v="),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.")]),s._v("-sin(hash(floor(uv.x*"),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("100.")]),s._v("))*"),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2.")]),s._v(");\n            float b=clamp(abs(sin("),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20.")]),s._v("*time*v+uv.y*("),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("5.")]),s._v("/("),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("2.")]),s._v("+v))))"),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("-.95")]),s._v(","),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.")]),s._v(","),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1.")]),s._v(")*"),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("20.")]),s._v(";\n            c*=v*b;\n            gl_FragColor = mix(texture2D(colorTexture, v_textureCoordinates), vec4(c,"),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("1")]),s._v("), "),e("span",{pre:!0,attrs:{class:"hljs-number"}},[s._v("0.5")]),s._v(");\n          }  `\n      }\n    },\n    methods: {\n      ready(cesiumInstance) {\n        "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".cesiumInstance = cesiumInstance\n        "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" { Cesium, viewer } = "),e("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".cesiumInstance\n      }\n    }\n  }\n")]),e("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),e("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("script")]),s._v(">")]),s._v("\n")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("table",[e("thead",[e("tr",[e("th",[s._v("属性名")]),s._v(" "),e("th",[s._v("类型")]),s._v(" "),e("th",[s._v("默认值")]),s._v(" "),e("th",[s._v("描述")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("fragmentShader")]),s._v(" "),e("td",[s._v("String")]),s._v(" "),e("td"),s._v(" "),e("td",[e("code",{pre:!0},[s._v("required")]),s._v(" 指定着色器代码。")])]),s._v(" "),e("tr",[e("td",[s._v("uniforms")]),s._v(" "),e("td",[s._v("Object")]),s._v(" "),e("td"),s._v(" "),e("td",[e("code",{pre:!0},[s._v("optional")]),s._v(" 指定着色器 uniforms 参数。uniform变量一般用来表示：变换矩阵，材质，光照参数和颜色等信息。")])]),s._v(" "),e("tr",[e("td",[s._v("textureScale")]),s._v(" "),e("td",[s._v("Number")]),s._v(" "),e("td",[e("code",{pre:!0},[s._v("1.0")])]),s._v(" "),e("td",[e("code",{pre:!0},[s._v("optional")]),s._v(" 指定纹理尺寸缩放比例，取值范围 (0.0, 1.0] 。")])]),s._v(" "),e("tr",[e("td",[s._v("forcePowerOfTwo")]),s._v(" "),e("td",[s._v("Boolean")]),s._v(" "),e("td",[e("code",{pre:!0},[s._v("false")])]),s._v(" "),e("td",[e("code",{pre:!0},[s._v("optional")]),s._v(" 是否强制将纹理尺寸都等于2的幂。 2的幂将是最小维度中2的下一个幂。")])]),s._v(" "),e("tr",[e("td",[s._v("sampleMode")]),s._v(" "),e("td",[s._v("Number")]),s._v(" "),e("td",[e("code",{pre:!0},[s._v("0")])]),s._v(" "),e("td",[e("code",{pre:!0},[s._v("optional")]),s._v(" 指定输入颜色纹理的采样方式。 "),e("strong",[s._v("{NEAREST: 0, LINEAR: 1}")])])]),s._v(" "),e("tr",[e("td",[s._v("pixelFormat")]),s._v(" "),e("td",[s._v("Number")]),s._v(" "),e("td"),s._v(" "),e("td",[e("code",{pre:!0},[s._v("optional")]),s._v(" 指定输出纹理的像素格式。")])]),s._v(" "),e("tr",[e("td",[s._v("pixelDatatype")]),s._v(" "),e("td",[s._v("Number")]),s._v(" "),e("td"),s._v(" "),e("td",[e("code",{pre:!0},[s._v("optional")]),s._v(" 指定输出纹理的数据类型。")])]),s._v(" "),e("tr",[e("td",[s._v("clearColor")]),s._v(" "),e("td",[s._v("Object|Array|String")]),s._v(" "),e("td",[e("code",{pre:!0},[s._v("BLACK")])]),s._v(" "),e("td",[e("code",{pre:!0},[s._v("optional")]),s._v(" 指定清除输出纹理的颜色。")])]),s._v(" "),e("tr",[e("td",[s._v("scissorRectangle")]),s._v(" "),e("td",[s._v("Object")]),s._v(" "),e("td"),s._v(" "),e("td",[e("code",{pre:!0},[s._v("optional")]),s._v(" 指定用于测试的矩形。")])]),s._v(" "),e("tr",[e("td",[s._v("name")]),s._v(" "),e("td",[s._v("String")]),s._v(" "),e("td"),s._v(" "),e("td",[e("code",{pre:!0},[s._v("optional")]),s._v(" 指定唯一名称，未提供默认生成GUID。")])])])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("table",[e("thead",[e("tr",[e("th",[s._v("事件名")]),s._v(" "),e("th",[s._v("参数")]),s._v(" "),e("th",[s._v("描述")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("ready")]),s._v(" "),e("td",[s._v("{Cesium, viewer}")]),s._v(" "),e("td",[s._v("该组件渲染完毕时触发，返回 Cesium 类, viewer 实例。")])])])])}],!1,null,null,null);t.default=a.exports}}]);
//# sourceMappingURL=188.2496e414001c2455e0d7.js.map